<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-179203988-1"></script><script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());

                    gtag('config', 'UA-179203988-1', {
                      page_path: window.location.pathname,
                    });
                  </script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Giorgio Pogliani | Livewire Datatables</title><meta name="description" content="I recently needed to build a datatable while working with Livewire, a cool new layer to make dynamics blade components without writing API, I will show you what I did.
"/><meta name="keywords" content="laravel, livewire, php, table, datatable"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#00aba9"/><meta name="theme-color" content="#ffffff"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/30ec998cc420919458e4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/30ec998cc420919458e4.css"/><link rel="preload" href="/_next/static/css/74a8f0e0d6e85266b7eb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/74a8f0e0d6e85266b7eb.css"/><link rel="preload" href="/_next/static/chunks/main-cb7428d18972257ea155.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.d557686129d5a5cc0c94.js" as="script"/><link rel="preload" href="/_next/static/chunks/d2445f03.acdc88755e55ded238c8.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.c326fb833cc5579beb78.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-c21f38b97138fb3b1c79.js" as="script"/><link rel="preload" href="/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.d3f5d31e28b546a74b0c.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-2f2d7ad81e8f6b8c8a54.js" as="script"/></head><body><div id="__next"><div><div><div class="bg-blue-100"><div class="container mx-auto p-6 flex items-center justify-between"><a href="/"><svg class="h-5 w-5 fill-current text-black transform -rotate-90" viewBox="0 0 100 100"><path d="M0,50 a1,1 0 0,0 100,0"></path></svg></a></div></div><div class="py-12 w-full px-6 max-w-6xl mx-auto overflow-auto"><div class="w-full max-w-5xl mx-auto"><h1 class="leading-10 text-5xl font-bold text-blue-600 mb-8">Livewire Datatables</h1><div class="space-x-2 mb-8"><span class="inline-flex items-center px-3 text-sm h-6 rounded-md bg-teal-600 text-white">php</span><span class="inline-flex items-center px-3 text-sm h-6 rounded-md bg-blue-600 text-white">laravel</span><span class="inline-flex items-center px-3 text-sm h-6 rounded-md bg-blue-600 text-white">livewire</span></div><div class="prose max-w-none"><p>Who didn&#39;t need a table to show some data in a Laravel application at some point? I came a cross this recently while building a ticketing system. I was using Livewire, a cool new layer to make dynamics blade components without writing API. I will show you what I did.</p>
<p>Let&#39;s get started. We create the component with the artisan command line tool. </p>
<pre><code class="language-bash">php artisan livewire:make UserTable</code></pre>
<p>The genereted component is something like this.</p>
<pre><code class="language-php"><span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Livewire</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">User</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Livewire</span>\<span class="hljs-title">Component</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserTable</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>)
    </span>{
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">&#x27;livewire.user-table&#x27;</span>);
    }
}</code></pre>
<p>Next we can add two custom properties like so. The <code>columns</code> property is an array that we will use to create the table headers in the HTML. I&#39;ll cover later what the <code>Column</code> class is. The <code>rows</code> property is the query to get the data we want. I like this approach as we can write any kind of query in here and can be tuned for this specific component.</p>
<pre><code class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getColumnsProperty</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">return</span> [
        Column::text(<span class="hljs-string">&#x27;Name&#x27;</span>),
        Column::text(<span class="hljs-string">&#x27;Email&#x27;</span>),
        Column::text(<span class="hljs-string">&#x27;CreatedAt&#x27;</span>),
    ];
}

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRowsProperty</span>(<span class="hljs-params"></span>)
</span>{
    $query = Ticket::query();

    $query-&gt;latest();

    <span class="hljs-keyword">return</span> $query-&gt;paginate();
}</code></pre>
<p>The column class is a very simple one. It&#39;s basically a fancy array with some usefull methods. I snake cased the title to create the key that will be used to get the property on the eloquent model. Calling a key like a function will set the value. So for example if we need a custom key not based on the title you can do <code>$column-&gt;key(&#39;custom_key&#39;)</code></p>
<pre><code class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Str</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Column</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">array</span> $options = [
        <span class="hljs-string">&#x27;format&#x27;</span> =&gt; <span class="hljs-string">&#x27;string&#x27;</span>, <span class="hljs-comment">// default column type</span>
    ];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> $title</span>)
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;options[<span class="hljs-string">&#x27;title&#x27;</span>] = $title;
        <span class="hljs-keyword">$this</span>-&gt;options[<span class="hljs-string">&#x27;key&#x27;</span>] = Str::snake($title);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">text</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> $title</span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">static</span>($title);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__call</span>(<span class="hljs-params"> $name, $arguments </span>)
    </span>{
        <span class="hljs-keyword">return</span> tap(<span class="hljs-keyword">$this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$col</span>) <span class="hljs-title">use</span> (<span class="hljs-params">$name, $arguments</span>) </span>{
            $col-&gt;options[$name] = $arguments[<span class="hljs-number">0</span>];
        });
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__get</span>(<span class="hljs-params"> $name </span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;options[$name] ?? <span class="hljs-literal">null</span>;
    }
}</code></pre>
<p>I wanted to use dot notation like <code>details.address</code> to get the value of the eloquent model so that I could reach relations on the model. To achieve this I added a simple trait to the model.</p>
<pre><code class="language-php"><span class="hljs-keyword">trait</span> CanHaveDataTable
{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getValueFor</span>(<span class="hljs-params">Column $column</span>): ?<span class="hljs-title">string</span>
    </span>{
        $data = <span class="hljs-keyword">$this</span>-&gt;toArray();

        <span class="hljs-keyword">return</span> collect([$data])-&gt;pluck($column-&gt;key)-&gt;first();
    }
}</code></pre>
<p>If you are familiar with the <code>pluck</code> function you can easly guess what I did. The <code>pluck</code> function can access values with the dot notation. So I converted the model (<code>$this</code>) to an array and wrapped it with an array and instantiated a <code>Collection</code> with the <code>collect</code> function.</p>
<p>Finally we can kick in some table templates in the blade file of the Livewire component. Here we have the two special custom properties. So all we need to do is iterate on those properties. I will use tailwind the get things pretty.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table min-w-full border-collapse divide-y divide-gray-200 bg-white&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        @foreach ($columns as $column)
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>{{$column-&gt;title}}<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        @endforeach
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
    @forelse ($rows as $row)
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            @foreach ($columns as $column)
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
                    {{$row-&gt;getValueFor($column)}}
                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            @endforeach
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    @empty
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;{{count($columns)}}&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-gray-500&quot;</span>&gt;</span>
                {{ __(&#x27;No records.&#x27;)}}
            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    @endforelse
<span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></code></pre>
<p>And of course, if you called paginate on the query you can use this snippet to have the links to paginate the table. Although, doing this way we will not use the dynamic feature of livewire because you click another link and this will reload the page. You can read the livewire documentation on <strong>&quot;Using A Custom Pagination View&quot;</strong>, but the idea is to have custom links that will set the page.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mt-5&quot;</span>&gt;</span>
    {{ $rows-&gt;links() }}
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>But if you implement a little search input that will be dynamic and will use all the power of Livewire. We can edit the rows custom property like so. </p>
<pre><code class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRowsProperty</span>(<span class="hljs-params"></span>)
</span>{
    $query = User::query();

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">$this</span>-&gt;search) {
        $query = $query-&gt;search(<span class="hljs-keyword">$this</span>-&gt;search);
    }

    <span class="hljs-keyword">return</span> $query-&gt;paginate();
}</code></pre>
<p>Hope you enjoy this little component I did. Send me your approach or how would you improve this. You can extend this to add more features or wrap everything in a trait or a package and power-up any model with a datatable.</p>
<p>You can found me on <a href="https://twitter.com/giorgiopogliani">Twitter</a> or <a href="https://instagram.com/giorgiopogliani">Instagram</a>!</p>
</div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Livewire Datatables","language":"php","tags":["laravel","livewire"],"preview":"I recently needed to build a datatable while working with Livewire, a cool new layer to make dynamics blade components without writing API, I will show you what I did.\n","keywords":["laravel","livewire","php","table","datatable"],"content":"\u003cp\u003eWho didn\u0026#39;t need a table to show some data in a Laravel application at some point? I came a cross this recently while building a ticketing system. I was using Livewire, a cool new layer to make dynamics blade components without writing API. I will show you what I did.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s get started. We create the component with the artisan command line tool. \u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ephp artisan livewire:make UserTable\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe genereted component is something like this.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u003cspan class=\"hljs-keyword\"\u003enamespace\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eApp\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eHttp\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eLivewire\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003euse\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eApp\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eModels\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eUser\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003euse\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eLivewire\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eComponent\u003c/span\u003e;\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eUserTable\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eComponent\u003c/span\u003e\n\u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003erender\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e)\n    \u003c/span\u003e{\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e view(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;livewire.user-table\u0026#x27;\u003c/span\u003e);\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext we can add two custom properties like so. The \u003ccode\u003ecolumns\u003c/code\u003e property is an array that we will use to create the table headers in the HTML. I\u0026#39;ll cover later what the \u003ccode\u003eColumn\u003c/code\u003e class is. The \u003ccode\u003erows\u003c/code\u003e property is the query to get the data we want. I like this approach as we can write any kind of query in here and can be tuned for this specific component.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetColumnsProperty\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e)\n\u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [\n        Column::text(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Name\u0026#x27;\u003c/span\u003e),\n        Column::text(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Email\u0026#x27;\u003c/span\u003e),\n        Column::text(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;CreatedAt\u0026#x27;\u003c/span\u003e),\n    ];\n}\n\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetRowsProperty\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e)\n\u003c/span\u003e{\n    $query = Ticket::query();\n\n    $query-\u0026gt;latest();\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e $query-\u0026gt;paginate();\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe column class is a very simple one. It\u0026#39;s basically a fancy array with some usefull methods. I snake cased the title to create the key that will be used to get the property on the eloquent model. Calling a key like a function will set the value. So for example if we need a custom key not based on the title you can do \u003ccode\u003e$column-\u0026gt;key(\u0026#39;custom_key\u0026#39;)\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u003cspan class=\"hljs-keyword\"\u003euse\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eIlluminate\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eSupport\u003c/span\u003e\\\u003cspan class=\"hljs-title\"\u003eStr\u003c/span\u003e;\n\n\u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eColumn\u003c/span\u003e\n\u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003eprotected\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003earray\u003c/span\u003e $options = [\n        \u003cspan class=\"hljs-string\"\u003e\u0026#x27;format\u0026#x27;\u003c/span\u003e =\u0026gt; \u003cspan class=\"hljs-string\"\u003e\u0026#x27;string\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-comment\"\u003e// default column type\u003c/span\u003e\n    ];\n\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e__construct\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-keyword\"\u003estring\u003c/span\u003e $title\u003c/span\u003e)\n    \u003c/span\u003e{\n        \u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e-\u0026gt;options[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;title\u0026#x27;\u003c/span\u003e] = $title;\n        \u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e-\u0026gt;options[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;key\u0026#x27;\u003c/span\u003e] = Str::snake($title);\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003etext\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-keyword\"\u003estring\u003c/span\u003e $title\u003c/span\u003e)\n    \u003c/span\u003e{\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003estatic\u003c/span\u003e($title);\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e__call\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e $name, $arguments \u003c/span\u003e)\n    \u003c/span\u003e{\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e tap(\u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e$col\u003c/span\u003e) \u003cspan class=\"hljs-title\"\u003euse\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e$name, $arguments\u003c/span\u003e) \u003c/span\u003e{\n            $col-\u0026gt;options[$name] = $arguments[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e];\n        });\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003e__get\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e $name \u003c/span\u003e)\n    \u003c/span\u003e{\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e-\u0026gt;options[$name] ?? \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI wanted to use dot notation like \u003ccode\u003edetails.address\u003c/code\u003e to get the value of the eloquent model so that I could reach relations on the model. To achieve this I added a simple trait to the model.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u003cspan class=\"hljs-keyword\"\u003etrait\u003c/span\u003e CanHaveDataTable\n{\n    \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetValueFor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eColumn $column\u003c/span\u003e): ?\u003cspan class=\"hljs-title\"\u003estring\u003c/span\u003e\n    \u003c/span\u003e{\n        $data = \u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e-\u0026gt;toArray();\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e collect([$data])-\u0026gt;pluck($column-\u0026gt;key)-\u0026gt;first();\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you are familiar with the \u003ccode\u003epluck\u003c/code\u003e function you can easly guess what I did. The \u003ccode\u003epluck\u003c/code\u003e function can access values with the dot notation. So I converted the model (\u003ccode\u003e$this\u003c/code\u003e) to an array and wrapped it with an array and instantiated a \u003ccode\u003eCollection\u003c/code\u003e with the \u003ccode\u003ecollect\u003c/code\u003e function.\u003c/p\u003e\n\u003cp\u003eFinally we can kick in some table templates in the blade file of the Livewire component. Here we have the two special custom properties. So all we need to do is iterate on those properties. I will use tailwind the get things pretty.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etable\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;table min-w-full border-collapse divide-y divide-gray-200 bg-white\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ethead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etr\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        @foreach ($columns as $column)\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eth\u003c/span\u003e\u0026gt;\u003c/span\u003e{{$column-\u0026gt;title}}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eth\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        @endforeach\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etr\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ethead\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etbody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    @forelse ($rows as $row)\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etr\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            @foreach ($columns as $column)\n                \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etd\u003c/span\u003e\u0026gt;\u003c/span\u003e\n                    {{$row-\u0026gt;getValueFor($column)}}\n                \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etd\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            @endforeach\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etr\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    @empty\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etr\u003c/span\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etd\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecolspan\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;{{count($columns)}}\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;text-gray-500\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n                {{ __(\u0026#x27;No records.\u0026#x27;)}}\n            \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etd\u003c/span\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etr\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    @endforelse\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etbody\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etable\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd of course, if you called paginate on the query you can use this snippet to have the links to paginate the table. Although, doing this way we will not use the dynamic feature of livewire because you click another link and this will reload the page. You can read the livewire documentation on \u003cstrong\u003e\u0026quot;Using A Custom Pagination View\u0026quot;\u003c/strong\u003e, but the idea is to have custom links that will set the page.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;mt-5\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    {{ $rows-\u0026gt;links() }}\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBut if you implement a little search input that will be dynamic and will use all the power of Livewire. We can edit the rows custom property like so. \u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetRowsProperty\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e)\n\u003c/span\u003e{\n    $query = User::query();\n\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e-\u0026gt;search) {\n        $query = $query-\u0026gt;search(\u003cspan class=\"hljs-keyword\"\u003e$this\u003c/span\u003e-\u0026gt;search);\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e $query-\u0026gt;paginate();\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHope you enjoy this little component I did. Send me your approach or how would you improve this. You can extend this to add more features or wrap everything in a trait or a package and power-up any model with a datatable.\u003c/p\u003e\n\u003cp\u003eYou can found me on \u003ca href=\"https://twitter.com/giorgiopogliani\"\u003eTwitter\u003c/a\u003e or \u003ca href=\"https://instagram.com/giorgiopogliani\"\u003eInstagram\u003c/a\u003e!\u003c/p\u003e\n"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"livewire-datatables"},"buildId":"bhhS0TC3Hv5WG9gsp01Tw","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-9a32872f6a983227f3b1.js"></script><script src="/_next/static/chunks/main-cb7428d18972257ea155.js" async=""></script><script src="/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" async=""></script><script src="/_next/static/chunks/framework.d557686129d5a5cc0c94.js" async=""></script><script src="/_next/static/chunks/d2445f03.acdc88755e55ded238c8.js" async=""></script><script src="/_next/static/chunks/commons.c326fb833cc5579beb78.js" async=""></script><script src="/_next/static/chunks/pages/_app-c21f38b97138fb3b1c79.js" async=""></script><script src="/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.d3f5d31e28b546a74b0c.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-2f2d7ad81e8f6b8c8a54.js" async=""></script><script src="/_next/static/bhhS0TC3Hv5WG9gsp01Tw/_buildManifest.js" async=""></script><script src="/_next/static/bhhS0TC3Hv5WG9gsp01Tw/_ssgManifest.js" async=""></script></body></html>